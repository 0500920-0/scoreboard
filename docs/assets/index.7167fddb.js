var p=Object.defineProperty,S=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var m=(i,r,n)=>r in i?p(i,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[r]=n,a=(i,r)=>{for(var n in r||(r={}))y.call(r,n)&&m(i,n,r[n]);if(g)for(var n of g(r))N.call(r,n)&&m(i,n,r[n]);return i},s=(i,r)=>S(i,C(r));import{j as R,a as v,F as T,p as F,S as L}from"./vendor.cabcce8c.js";const B=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&e(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};B();const t=R,h=v,E=T;function f({teamName:i,score:r,hasRightToServe:n,isChangingSide:e,onNameChange:o,onScoreChange:c}){function u(l){var d;l.preventDefault(),l.target instanceof HTMLInputElement&&o((d=l==null?void 0:l.target)==null?void 0:d.value)}return h("div",{class:"score",children:[t("header",{children:t("input",{value:i,onInput:u,placeholder:"\u8ACB\u8F38\u5165\u540D\u5B57\u2026\u2026"})}),t("main",{onClick:c,className:e?"change-side":n?"service":"",children:r})]})}const b=[{teamName:"",score:0,isDeuce:!1,hasRightToServe:!1,isChangingSide:!1},{teamName:"",score:0,isDeuce:!1,hasRightToServe:!1,isChangingSide:!1}];function k(i){function r(e,o){switch(o.type){case"L+":return[s(a({},e[0]),{hasRightToServe:!0,score:e[0].score+1,isChangingSide:e[0].hasRightToServe}),s(a({},e[1]),{hasRightToServe:!1})];case"R+":return[s(a({},e[0]),{hasRightToServe:!1}),s(a({},e[1]),{hasRightToServe:!0,score:e[1].score+1,isChangingSide:e[1].hasRightToServe})];case"L-":return e[0].score>0?[s(a({},e[0]),{score:e[0].score-1,hasRightToServe:!1}),s(a({},e[1]),{hasRightToServe:!1})]:e;case"R-":return e[1].score>0?[s(a({},e[0]),{hasRightToServe:!1}),s(a({},e[1]),{score:e[1].score-1,hasRightToServe:!1})]:e;case"ChangeSide":return[s(a({},e[1]),{isChangingSide:!1}),s(a({},e[0]),{isChangingSide:!1})];case"LChangeName":return[s(a({},e[0]),{teamName:o.payload}),e[1]];case"RChangeName":return[e[0],s(a({},e[1]),{teamName:o.payload})];case"Zero":return[s(a({},i[0]),{teamName:e[0].teamName}),s(a({},i[1]),{teamName:e[1].teamName})];default:return e}}const n=F(r,i);return{scoreBoard:n[0],left:n[0][0],right:n[0][1],dispatch:n[1]}}function x(){const{left:i,right:r,dispatch:n}=k(b),e=()=>(document.fullscreenElement?document==null||document.exitFullscreen():document.documentElement.requestFullscreen(),()=>{document==null||document.exitFullscreen()});return h(E,{children:[t(f,{teamName:i.teamName,score:i.score,hasRightToServe:i.hasRightToServe,isChangingSide:i.isChangingSide,onNameChange:o=>{n({type:"LChangeName",payload:o})},onScoreChange:()=>{n({type:"L+"})}}),h("nav",{children:[t("span",{children:"\u8A08\u5206\u677F"}),t("button",{onClick:e,children:"\u5168\u87A2\u5E55"}),t("button",{onClick:()=>n({type:"Zero"}),children:"\u6B78\u96F6"}),t("button",{onClick:()=>n({type:"ChangeSide"}),children:"\u63DB\u908A"}),h("div",{children:[t("button",{onClick:()=>n({type:"L-"}),children:"\u2B05\uFE0F\u6E1B\u5206"}),t("button",{onClick:()=>n({type:"R-"}),children:"\u6E1B\u5206\u27A1\uFE0F"})]})]}),t(f,{teamName:r.teamName,score:r.score,hasRightToServe:r.hasRightToServe,isChangingSide:r.isChangingSide,onNameChange:o=>{n({type:"RChangeName",payload:o})},onScoreChange:()=>{n({type:"R+"})}})]})}L(t(x,{}),document.getElementById("app"));
